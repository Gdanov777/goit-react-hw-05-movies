"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[729],{1687:function(e,t,r){r.d(t,{Hx:function(){return l},Qk:function(){return h},Tg:function(){return s},Y5:function(){return p},bI:function(){return o},xc:function(){return f}});var n=r(5861),a=r(7757),u=r.n(a),c=r(5294);c.Z.defaults.baseURL="https://api.themoviedb.org/3/";var i="51152509db377696be1781d05c6af581",s=function(){var e=(0,n.Z)(u().mark((function e(){var t,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("trending/movie/day?api_key=".concat(i,"&page=1"));case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=(0,n.Z)(u().mark((function e(t){var r,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("search/movie?api_key=".concat(i,"&query=").concat(t));case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)(u().mark((function e(t){var r,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("movie/".concat(t,"?api_key=").concat(i,"&language=en-US"));case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,n.Z)(u().mark((function e(t){var r,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("movie/".concat(t,"/credits?api_key=").concat(i));case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,n.Z)(u().mark((function e(t){var r,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("movie/".concat(t,"/reviews?api_key=").concat(i,"&page=1"));case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function h(e){return e?"https://image.tmdb.org/t/p/w300/".concat(e):"https://upload.wikimedia.org/wikipedia/commons/6/64/Poster_not_available.jpg"}},854:function(e,t,r){r.d(t,{a:function(){return u}});var n=r(4137),a=r(184),u=function(){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(n.Rf,{color:"#4fa94d",width:"100",visible:!0,ariaLabel:"falling-lines-loading"})})}},6368:function(e,t,r){r.d(t,{O:function(){return s}});var n=r(7689),a=r(1087),u=r(3682),c=r(1687),i=r(184),s=function(e){var t=e.movies,r=e.text,s=(0,n.TH)();return(0,i.jsxs)(i.Fragment,{children:[r&&(0,i.jsx)("h1",{children:r}),(0,i.jsx)(u.x,{as:"ul",p:4,children:t.map((function(e){var t=e.id,r=e.original_title,n=e.poster_path,u=e.name;return(0,i.jsx)("li",{children:(0,i.jsxs)(a.rU,{to:"/movies/".concat(t),state:{from:s},children:[(0,i.jsx)("img",{src:(0,c.Qk)(n),alt:"poster"}),(0,i.jsx)("h2",{children:null!==r&&void 0!==r?r:u})]})},t)}))})]})}},1729:function(e,t,r){r.r(t),r.d(t,{default:function(){return w}});var n=r(5861),a=r(9439),u=r(7757),c=r.n(u),i=r(2791),s=r(7692),o="SearchBar_SearchBar__MQiwu",p="SearchBar_SearchForm__J+i1a",f="SearchBar_SearchFormButton__J-w2N",l="SearchBar_SearchFormInput__4T9IM",h=r(184),v=function(e){var t=e.onSubmit,r=(0,i.useState)(""),n=(0,a.Z)(r,2),u=n[0],c=n[1];return(0,h.jsx)("div",{className:o,children:(0,h.jsxs)("form",{className:p,onSubmit:function(e){e.preventDefault(),t(u),e.target.reset()},children:[(0,h.jsx)("input",{className:l,type:"text",onChange:function(e){return c(e.currentTarget.value.toLowerCase())}}),(0,h.jsx)("button",{className:f,children:(0,h.jsx)(s.wTD,{})})]})})},d=r(8174),m=r(1687),x=r(6368),g=r(854),_=r(1087),w=function(){var e,t=(0,i.useState)([]),r=(0,a.Z)(t,2),u=r[0],s=r[1],o=(0,i.useState)(!1),p=(0,a.Z)(o,2),f=p[0],l=p[1],w=(0,_.lr)(),b=(0,a.Z)(w,2),k=b[0],j=b[1],y=null!==(e=k.get("query"))&&void 0!==e?e:"";(0,i.useEffect)((function(){function e(){return(e=(0,n.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),e.next=4,(0,m.bI)(y);case 4:t=e.sent,s(t.results),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),d.Am.error("Please input search query!");case 11:return e.prev=11,l(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))).apply(this,arguments)}""!==y&&function(){e.apply(this,arguments)}()}),[y]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(v,{value:y,onSubmit:function(e){j(""!==e?{query:e}:{}),""===e&&d.Am.info("Please input search query!")}}),f&&(0,h.jsx)(g.a,{}),u&&(0,h.jsx)(x.O,{movies:u})]})}}}]);
//# sourceMappingURL=729.74f755d8.chunk.js.map